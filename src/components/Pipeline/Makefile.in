#                         Copyright (c) 2000 - 2008
#                  Lawrence Livermore National Security, LLC
#            Produced at the Lawrence Livermore National Laboratory
#                              LLNL-CODE-400124
#                            All rights reserved.
#
# This file is  part of VisIt. For  details, see https://visit.llnl.gov/.  The
# full copyright notice is contained in the file COPYRIGHT located at the root
# of the VisIt distribution or at https://visit.llnl.gov/copyright.html.
#
# Redistribution  and  use  in  source  and  binary  forms,  with  or  without
# modification, are permitted provided  that the following conditions are met:
#
# - Redistributions of  source code  must retain  the above  copyright notice,
#   this list of conditions and the disclaimer below.
# - Redistributions in binary form must  reproduce the above copyright notice,
#   this  list of  conditions  and  the  disclaimer  (as noted below)  in  the
#   documentation and/or other materials provided with the distribution.
# - Neither the name of the LLNS/LLNL nor the names of its contributors may be
#   used to endorse  or promote products  derived from  this software  without
#   specific prior written permission.
#
# THIS SOFTWARE IS PROVIDED BY THE  COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
# AND ANY EXPRESS OR  IMPLIED WARRANTIES,  INCLUDING, BUT NOT  LIMITED TO, THE
# IMPLIED WARRANTIES  OF MERCHANTABILITY AND FITNESS FOR  A PARTICULAR PURPOSE
# ARE  DISCLAIMED. IN  NO EVENT  SHALL LAWRENCE  LIVERMORE NATIONAL  SECURITY,
# LLC, THE  U.S.  DEPARTMENT OF  ENERGY  OR  CONTRIBUTORS BE  LIABLE  FOR  ANY
# DIRECT,  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL  DAMAGES
# (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
# LOSS OF USE, DATA, OR PROFITS; OR  BUSINESS INTERRUPTION) HOWEVER CAUSED AND
# ON ANY THEORY OF  LIABILITY, WHETHER IN CONTRACT, STRICT  LIABILITY, OR TORT
# (INCLUDING  NEGLIGENCE OR  OTHERWISE) ARISING IN ANY  WAY OUT OF  THE USE OF
# THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
#
# Modifications:
#
#    Jeremy Meredith, Thu May 10 14:17:51 PDT 2001
#    Made it create libdatabase.a instead of add to libpipeline.a.
#    Made it create a shared library, and do the subdirs before the library.
#
#    Jeremy Meredith, Mon May 14 12:06:29 PDT 2001
#    Fixed a tiny bug.
#
#    Hank Childs, Wed Jun 13 15:35:32 PDT 2001
#    Remove Exceptions directory.
#
#    Jeremy Meredith, Mon Jun 25 21:31:15 PDT 2001
#    Added _ser or _par extension to library names.
#
#    Jeremy Meredith, Mon Jul 23 00:41:31 PDT 2001
#    Added some required libraries for AIX.
#
#    Jeremy Meredith, Tue Sep  4 10:36:05 PDT 2001
#    Changed library building: the LIB targets has no extension, and
#    either LIBSINGLETARGETS or LIBMULTITARGETS must be included
#    in addition to TARGETS depending on whether the library is build
#    from object files in one directory or multiple subdirectories.
#
#    Jeremy Meredith, Thu Oct 25 13:04:27 PDT 2001
#    Moved MIR out of this directory.
#
#    Jeremy Meredith, Wed Jan 16 09:54:48 PST 2002
#    Make this library build serial and parallel versions concurrently.
#
#    Jeremy Meredith, Mon Mar 11 16:44:39 PST 2002
#    Made this library build in one pass from this directory.
#
#    Jeremy Meredith, Wed Mar 13 10:16:53 PST 2002
#    Added avtFeatureEdgesFilter.
#
#    Hank Childs, Fri Mar 15 15:13:52 PST 2002
#    Add avtDynamicAttribute, avtPointAttribute, and avtDatasetExaminer.
#
#    Hank Childs, Tue Apr 16 10:44:14 PDT 2002
#    Added avtContourFilter, avtFacadeFilter, and avtSingleFilterFacade.
#
#    Brad Whitlock, Wed Apr 24 17:18:20 PST 2002
#    Added C file for avtPluginStreamer.
#
#    Brad Whitlock, Wed Apr 24 10:21:06 PDT 2002
#    Added avtLightingModel, avtFlatLighting C files.
#
#    Hank Childs, Fri May 24 09:51:08 PDT 2002
#    Added avtFileWriter, avtDatasetFileWriter.
#
#    Sean Ahern, Fri May 24 17:17:01 PDT 2002
#    Added avtBinaryMathFilter.
#
#    Hank Childs, Fri Jun  7 14:12:10 PDT 2002
#    Added avtDegreeFilter, avtExpressionFilter.
#
#    Sean Ahern, Wed Jun 12 16:55:59 PDT 2002
#    Added avtSimpleMathFilter, avtSinFilter, avtCosFilter,
#    avtUnaryMinusFilter, avtAbsValFilter, avtNaturalLogFilter,
#    avtBase10LogFilter, avtSingleInputExpressionFilter,
#    avtMultipleInputExpressionFilter.  Write avtBinaryMathFilter over
#    again.
#
#    Hank Childs, Sat Jun 22 22:02:09 PDT 2002
#    Added avtPointToGlyphFilter.
#
#    Sean Ahern, Thu Jun 27 11:28:26 PDT 2002
#    Added avtBinaryAddFilter, avtBinarySubtractFilter,
#    avtBinaryMultiplyFilter, avtBinaryDivideFilter, avtArctanFilter,
#    avtArcsinFilter, avtArccosFilter.
#
#    Jeremy Meredith, Wed Jul  3 13:22:26 PDT 2002
#    Added SUBDIRS back in.  It was still needed.
#
#    Akira Haddox, Thu Aug 15 16:22:51 PDT 2002
#    Added avtGradientFilter, avtMagnitudeFilter.
#
#    Akira Haddox, Wed Aug 21 14:52:12 PDT 2002
#    Added MeshQuality directory.
#
#    Akira Haddox, Thu Aug 22 08:30:36 PDT 2002 
#    Added Meshquality expressions: avtEulerianFilter, avtNeighborFilter,
#    avtNodeDegreeFilter.
#
#    Hank Childs, Fri Aug 30 14:00:29 PDT 2002
#    Added avtSummationFilter.
#
#    Hank Childs, Sun Sep  8 21:40:56 PDT 2002
#    Added avtRevolvedVolume.
#
#    Kathleen Bonnell, Fri Sep 13 16:56:15 PDT 2002 
#    Added subdir Queries.
#
#    Kathleen Bonnell, Fri Nov 15 09:07:36 PST 2002
#    Added avtPickQuery and avtLocateCellQuery.
#
#    Kathleen Bonnell, Fri Nov 15 12:37:11 PST 2002 
#    Added avtEulerianQuery, removed avtEulerianFilter.
#
#    Hank Childs, Fri Nov 15 15:25:26 PST 2002
#    Renamed simple math filter to unary math filter.  Add degree/radian expr.
#    Also add polar coordinates, and components filter.
#
#    Hank Childs, Tue Nov 19 06:44:03 PST 2002
#    Moved expressions and queries to their own directories.
#
#    Jeremy Meredith, Fri Dec  6 10:15:34 PST 2002
#    Added avtSmoothPolyDataFilter.
#
#    Eric Brugger, Fri Jan 17 09:10:30 PST 2003
#    Renamed avtVolumeRenderer to avtRayTracer.
#
#    Brad Whitlock, Mon Feb 10 11:51:34 PDT 2003
#    I added a C file for avtDatasetToImageFilter.
#
#    Hank Childs, Mon Jun 30 08:46:16 PDT 2003
#    Added avtCoordSystemConvert, avtSamplePointToSurfaceFilter, and
#    avtSimlarityTransformFilter.
#
#    Hank Childs, Fri Jul 25 21:17:45 PDT 2003
#    Renamed avtRelevantPointsFilter to avtCondenseDatasetFilter.
#
#    Hank Childs, Wed Sep 10 07:56:10 PDT 2003
#    Added avtDatabaseWriter.
#
#    Hank Childs, Fri Oct  3 11:10:29 PDT 2003
#    Added avtCurveConstructorFilter.
#
#    Hank Childs, Sun Dec 14 11:05:37 PST 2003
#    Added avtMassVoxelExtractor.
#
#    Hank Childs, Thu Jan 22 13:27:30 PST 2004
#    Removed PublicFilters, which went one level up as "Filters".
#    Also removed FileWriters and View objects.
#
#    Hank Childs, Thu Feb  5 18:04:23 PST 2004
#    Added .C files for several classes that needed to have their virtual
#    destructors not be inlined due to compiler oddities.
#
#    Brad Whitlock, Thu Apr 22 15:15:37 PST 2004
#    Added more libraries to the link line.
#
#    Jeremy Meredith, Wed Jul  7 12:12:52 PDT 2004
#    I changed _ser.o to simply be .o.
#
#    Brad Whitlock, Thu Jul 15 15:54:25 PST 2004
#    Added avtImageTiler.C
#
#    Mark C. Miller, Tue Sep 28 19:32:50 PDT 2004
#    Added Data Selections
#
#    Brad Whitlock, Mon Nov 1 15:31:13 PST 2004
#    Fixed for MacOS X.
#
#    Hank Childs, Mon Nov 22 08:37:51 PST 2004
#    Moved avtMassVoxelExtractor to Filters.
#
#    Kathleen Bonnell, Mon Jan  3 13:33:20 PST 2005 
#    Add avtTimeLoopFilter. 
#
#    Brad Whitlock, Tue Jan 4 17:42:23 PST 2005
#    Added -lexpr so it links on MacOS X.
#
#    Hank Childs, Sat Jan 29 20:02:01 PST 2005
#    Add new sample point arbitrators.
#
#    Hank Childs, Fri Apr  8 09:43:05 PDT 2005
#    Add new partition strategy.
#
#    Mark C. Miller, Tue Aug 16 19:28:18 PDT 2005
#    Added avtResampleSelection.C
#
#    Hank Childs, Tue Jan 24 16:42:40 PST 2006
#    Added avtPointExtractor.C
#
#    Brad Whitlock, Thu Jan 26 15:27:04 PST 2006
#    Added -lbz2 for MacOS X
#
#    Hank Childs, Mon Sep 11 15:02:43 PDT 2006
#    Added avtIntegrationRF.
#
#    Hank Childs, Thu Dec 21 11:54:34 PST 2006
#    Added avtWebpage.
#
#    Thomas R. Treadway, Wed Feb  7 17:53:04 PST 2007
#    Added $(GLEW_LIBS) for MacOS X.
#
#    Timo Bremer, Thu Sep 13 13:53:31 PDT 2007
#    Added avtHexahedron2[07]Extractor.
#
#    Kathleen Bonnell, Mon Oct 15 13:55:20 PDT 2007 
#    Added avtDataRangeSelection.
#
#    Hank Childs, Tue Jan 22 09:11:49 PST 2008
#    Add avtTimeLoopCollectorFilter.
#
##############################################################################

@SET_MAKE@
@VARIABLES@

SUBDIRS=Data Pipeline PrivateFilters Sinks Sources
SRC=$(Data_src) $(MeshQuality_src) $(Pipeline_src) $(PrivateFilters_src) \
    $(Sinks_src) $(Sources_src)

Data_src= \
  Data/avtAverageValueRF.C \
  Data/avtCallback.C \
  Data/avtCellList.C \
  Data/avtCommonDataFunctions.C \
  Data/avtCompositeRF.C \
  Data/avtDataAttributes.C \
  Data/avtDataObject.C \
  Data/avtDataObjectInformation.C \
  Data/avtDataRangeSelection.C \
  Data/avtDataRepresentation.C \
  Data/avtDataTree.C \
  Data/avtDataValidity.C \
  Data/avtDataset.C \
  Data/avtDatasetExaminer.C \
  Data/avtDatasetVerifier.C \
  Data/avtDistancePixelizer.C \
  Data/avtDistanceToValueRF.C \
  Data/avtDynamicAttribute.C \
  Data/avtExtents.C \
  Data/avtExtractor.C \
  Data/avtFacelist.C \
  Data/avtFlatLighting.C \
  Data/avtGradients.C \
  Data/avtHexahedronExtractor.C \
  Data/avtHexahedron20Extractor.C \
  Data/avtHexahedron27Extractor.C \
  Data/avtImage.C \
  Data/avtImagePartition.C \
  Data/avtImageRepresentation.C \
  Data/avtIntegrationRF.C \
  Data/avtIntervalTree.C \
  Data/avtLightingModel.C \
  Data/avtLogicalSelection.C \
  Data/avtMIPRangeRF.C \
  Data/avtMaterial.C \
  Data/avtMaximumIntensityProjectionRF.C \
  Data/avtMetaData.C \
  Data/avtMixedVariable.C \
  Data/avtNullData.C \
  Data/avtOpacityMap.C \
  Data/avtOpacityMapSamplePointArbitrator.C \
  Data/avtPhong.C \
  Data/avtPixelizer.C \
  Data/avtPointAttribute.C \
  Data/avtPointExtractor.C \
  Data/avtPyramidExtractor.C \
  Data/avtRangeMaxTable.C \
  Data/avtRay.C \
  Data/avtRayFunction.C \
  Data/avtRelativeValueSamplePointArbitrator.C \
  Data/avtResampleSelection.C \
  Data/avtSamplePointArbitrator.C \
  Data/avtSamplePoints.C \
  Data/avtSpatialBoxSelection.C \
  Data/avtSpecies.C \
  Data/avtTetrahedronExtractor.C \
  Data/avtVariablePixelizer.C \
  Data/avtVolume.C \
  Data/avtWedgeExtractor.C

Pipeline_src= \
  Pipeline/avtDataObjectReader.C \
  Pipeline/avtDataObjectString.C \
  Pipeline/avtDataObjectWriter.C \
  Pipeline/avtDataSetReader.C \
  Pipeline/avtDataSetWriter.C \
  Pipeline/avtDataSpecification.C \
  Pipeline/avtImageReader.C \
  Pipeline/avtImageTiler.C \
  Pipeline/avtImageWriter.C \
  Pipeline/avtNullDataReader.C \
  Pipeline/avtNullDataWriter.C \
  Pipeline/avtParallel.C \
  Pipeline/avtPipelineSpecification.C \
  Pipeline/avtWebpage.C

PrivateFilters_src= \
  PrivateFilters/avtCompactTreeFilter.C \
  PrivateFilters/avtDataObjectToDatasetFilter.C \
  PrivateFilters/avtDataObjectToImageFilter.C \
  PrivateFilters/avtDataObjectToSamplePointsFilter.C \
  PrivateFilters/avtDataTreeStreamer.C \
  PrivateFilters/avtDatasetToDataObjectFilter.C \
  PrivateFilters/avtDatasetToDatasetFilter.C \
  PrivateFilters/avtDatasetToImageFilter.C \
  PrivateFilters/avtDatasetToSamplePointsFilter.C \
  PrivateFilters/avtFacadeFilter.C \
  PrivateFilters/avtFilter.C \
  PrivateFilters/avtImageToDataObjectFilter.C \
  PrivateFilters/avtImageToImageFilter.C \
  PrivateFilters/avtMultiResolutionPartitionStrategy.C \
  PrivateFilters/avtMultipleInputToDataObjectFilter.C \
  PrivateFilters/avtMultipleInputToDatasetFilter.C \
  PrivateFilters/avtPluginStreamer.C \
  PrivateFilters/avtPluginStructuredChunkStreamer.C \
  PrivateFilters/avtSamplePointsToDataObjectFilter.C \
  PrivateFilters/avtSamplePointsToDatasetFilter.C \
  PrivateFilters/avtSamplePointsToImageFilter.C \
  PrivateFilters/avtSamplePointsToSamplePointsFilter.C \
  PrivateFilters/avtSingleFilterFacade.C \
  PrivateFilters/avtStreamer.C \
  PrivateFilters/avtStructuredChunkStreamer.C \
  PrivateFilters/avtStructuredMeshChunker.C \
  PrivateFilters/avtStructuredMeshPartitionStrategy.C \
  PrivateFilters/avtSweepPlanePartitionStrategy.C \
  PrivateFilters/avtTimeLoopCollectorFilter.C \
  PrivateFilters/avtTimeLoopFilter.C

Sinks_src= \
  Sinks/avtDataObjectSink.C \
  Sinks/avtDatabaseWriter.C \
  Sinks/avtDatasetSink.C \
  Sinks/avtImageSink.C \
  Sinks/avtMultipleInputSink.C \
  Sinks/avtNullDataSink.C \
  Sinks/avtOriginatingDatasetSink.C \
  Sinks/avtOriginatingImageSink.C \
  Sinks/avtOriginatingNullDataSink.C \
  Sinks/avtOriginatingSink.C \
  Sinks/avtSamplePointsSink.C

Sources_src= \
  Sources/avtDataObjectSource.C \
  Sources/avtDatasetSource.C \
  Sources/avtImageSource.C \
  Sources/avtInlinePipelineSource.C \
  Sources/avtNullDataSource.C \
  Sources/avtQueryableSource.C \
  Sources/avtSamplePointsSource.C \
  Sources/avtSourceFromAVTDataset.C \
  Sources/avtSourceFromDataset.C \
  Sources/avtSourceFromImage.C \
  Sources/avtSourceFromNullData.C \
  Sources/avtTerminatingDatasetSource.C \
  Sources/avtTerminatingImageSource.C \
  Sources/avtTerminatingNullDataSource.C \
  Sources/avtTerminatingSource.C


CPPFLAGS=@COMPONENT_CPPFLAGS@ @CPPFLAGS@

SEROBJ=$(SRC:.C=.o)
PAROBJ=$(SRC:.C=_par.o)
LIB=libpipeline
LIBS_FOR_MACOSX_PREBINDING=$(BZIP2_LIBS) $(GLEW_LIBS)
SERLIBS=-ldbatts -lavtexceptions -lstate -lcomm -lmisc -lutility -lexpr -lparser -lavtmath_ser -llightweight_visit_vtk @VTK_LIBS@ $(LIBS_FOR_MACOSX_PREBINDING) $(X_LIBS) @LIBS@
PARLIBS=-ldbatts -lavtexceptions -lstate -lcomm -lmisc -lutility -lexpr -lparser -lavtmath_par -llightweight_visit_vtk @VTK_LIBS@ $(LIBS_FOR_MACOSX_PREBINDING) $(X_LIBS) @LIBS@ @SHLIB_MPI_LIBS@

##
## Standard targets...
##
all: $(LIBSHAREDSER) @LIBSHAREDPAR@

clean:
	$(RM) $(LIBSHAREDSER) @LIBSHAREDPAR@
	$(RM) $(SEROBJ) $(PAROBJ)

##
## Automatic dependency stuff
##
@TARGETS@
@PARLIBTARGETS@
