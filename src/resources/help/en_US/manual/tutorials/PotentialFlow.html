

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5. Potential Flow &mdash; VisIt User Manual 2.11 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="VisIt User Manual 2.11 documentation" href="../index.html"/>
        <link rel="up" title="VisIt Tutorials" href="index.html"/>
        <link rel="next" title="VisIt Developer Manual" href="../dev_manual/index.html"/>
        <link rel="prev" title="4. Aneurysm" href="Aneurysm.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> VisIt User Manual
          

          
          </a>

          
            
            
              <div class="version">
                local build
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../gui_manual/index.html">GUI Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli_manual/index.html">CLI Manual</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="VisIt_Basics.html">1. VisIt Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="Data_Analysis.html">2. Data Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="Scripting.html">3. Scripting</a></li>
<li class="toctree-l2"><a class="reference internal" href="Aneurysm.html">4. Aneurysm</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">5. Potential Flow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#open-the-dataset">5.1. Open the dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="#plotting-the-mesh-topology">5.2. Plotting the mesh topology</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#create-a-mesh-plot">5.2.1. Create a Mesh plot</a></li>
<li class="toctree-l4"><a class="reference internal" href="#modify-the-mesh-plot-settings">5.2.2. Modify the Mesh plot settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#examining-the-velocity-magnitude">5.3. Examining the velocity magnitude</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#contours-of-velocity-magnitude">5.3.1. Contours of velocity magnitude</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#visualizing-the-velocity-vector-field">5.4. Visualizing the velocity vector field</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#plotting-the-vector-field-directly-with-glyphs">5.4.1. Plotting the vector field directly with glyphs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examining-features-of-the-flow-field-with-streamlines">5.4.2. Examining features of the flow field with streamlines</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#plotting-streamlines-of-velocity">5.4.2.1. Plotting streamlines of velocity</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dev_manual/index.html">Developer Manual</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">VisIt User Manual</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          













<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">VisIt Tutorials</a> &raquo;</li>
        
      <li>5. Potential Flow</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/tutorials/PotentialFlow.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="potential-flow">
<span id="id1"></span><h1>5. Potential Flow<a class="headerlink" href="#potential-flow" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p>This tutorial demonstrates VisIt’s features while exploring results from simple simulations of <a class="reference external" href="https://en.wikipedia.org/wiki/Potential_flow">potential flow</a> around an obstruction, specifically an airfoil. Potential flow assumes irrotational flow. That is, there is no rotational motion in the flow, no vortices or eddies. This assumption is valid for low velocities and certain types of gases/fluids and obstructions. When the flow does involve rotation, a more complex solution involving Navier-Stokes equations is required.</p>
<p>The potential flow solver is a mini-app developed using the <a class="reference external" href="http://www.mfem.org/">MFEM</a> finite element library. The example is available for this tutorial thanks to Aaron Fischer and Mark Miller of <a class="reference external" href="http://www.llnl.gov">LLNL</a>. The data set includes VTK output files for a set of solutions where the angle of attack of the velocity varies from -5 degrees to 25 degrees.</p>
<div class="section" id="open-the-dataset">
<h2>5.1. Open the dataset<a class="headerlink" href="#open-the-dataset" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Click on the <em>Open</em> icon to bring up the File open window.</li>
<li>Navigate your file system to the folder containing “potential_flow_ang_sweep.visit”.</li>
<li>Highlight the file “potential_flow_ang_sweep.visit” and then click <em>OK</em>.</li>
</ol>
</div>
<div class="section" id="plotting-the-mesh-topology">
<h2>5.2. Plotting the mesh topology<a class="headerlink" href="#plotting-the-mesh-topology" title="Permalink to this headline">¶</a></h2>
<p>First we will examine the mesh used by the solver.</p>
<div class="section" id="create-a-mesh-plot">
<h3>5.2.1. Create a Mesh plot<a class="headerlink" href="#create-a-mesh-plot" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Go to <em>Add-&gt;Mesh-&gt;main</em>.</li>
<li>Click <em>Draw</em>.</li>
</ol>
<p>After this, the mesh plot is rendered in <a class="reference external" href="https://visit.llnl.gov">VisIt</a>’s Viewer window.
This is a 2D mesh, modify the view by planning and zooming in the viewer window.
Zoom in near the airfoil and look at the mesh structure.</p>
</div>
<div class="section" id="modify-the-mesh-plot-settings">
<h3>5.2.2. Modify the Mesh plot settings<a class="headerlink" href="#modify-the-mesh-plot-settings" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Double click on the Mesh plot to open the Mesh plot attributes window.</li>
<li>Experiment with settings for:</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><em>Mesh color</em></li>
<li><em>Opaque color</em></li>
<li><em>Opaque mode</em></li>
</ul>
</div></blockquote>
<div class="figure" id="id3">
<img alt="../_images/PotentialFlow-MeshPlot-Atts.png" src="../_images/PotentialFlow-MeshPlot-Atts.png" />
<p class="caption"><span class="caption-number">Fig. 5.20 </span><span class="caption-text">Example mesh plot settings for the Potential Flow data.</span></p>
</div>
<p>You will need to click <em>Apply</em> to commit the settings to your plot.</p>
<div class="figure" id="id4">
<img alt="../_images/PotentialFlow-MeshPlot-Render.png" src="../_images/PotentialFlow-MeshPlot-Render.png" />
<p class="caption"><span class="caption-number">Fig. 5.21 </span><span class="caption-text">Example mesh plot result the Potential Flow data.</span></p>
</div>
</div>
</div>
<div class="section" id="examining-the-velocity-magnitude">
<h2>5.3. Examining the velocity magnitude<a class="headerlink" href="#examining-the-velocity-magnitude" title="Permalink to this headline">¶</a></h2>
<p>In addition to the mesh topology, this dataset provides a vector field “v”, representing the velocity, associated with the mesh vertices.</p>
<p><a class="reference external" href="https://visit.llnl.gov">VisIt</a> automatically defines an expression that allows us to use the magnitude
of the “v” vector field as a scalar field on the mesh. The result of
the expression is a new field named “v_magnitude”.</p>
<p>We will use Pseudocolor plots to examine the “pressure” and
“velocity_magnitude” fields.</p>
<ol class="arabic simple">
<li>Go to <em>Add-&gt;Pseudocolor-&gt;v_magnitude</em>.</li>
<li>Click <em>Draw</em>.</li>
<li>Double click on the Pseudocolor plot to bring up the Pseudocolor plot attributes window.</li>
<li>In the <em>Limits</em> section, enable the <em>Maximum</em> checkbox and set the limit to <em>1</em>.</li>
<li>In the <em>Color</em> section,cChange the color table to <em>Spectral</em> and check the <em>Invert</em> button.</li>
</ol>
<div class="figure" id="id5">
<img alt="../_images/PotentialFlow-Vmag-Atts.png" src="../_images/PotentialFlow-Vmag-Atts.png" />
<p class="caption"><span class="caption-number">Fig. 5.22 </span><span class="caption-text">The pseudocolor plot attributes for the velocity magnitude example.</span></p>
</div>
<ol class="arabic simple" start="6">
<li>Click <em>Apply</em>.</li>
<li>Click <em>Draw</em>.</li>
<li>Drag the <em>Time</em> animation controls above the plot list on the main <em>GUI</em> window.</li>
</ol>
<p>You will see the velocity magnitude solutions for the different angles of attack.</p>
<div class="figure" id="id6">
<img alt="../_images/PotentialFlow-VmagRender.png" src="../_images/PotentialFlow-VmagRender.png" />
<p class="caption"><span class="caption-number">Fig. 5.23 </span><span class="caption-text">The pseudocolor plot of the velocity magnitude.</span></p>
</div>
<p>Experiment with the <em>Color for values &gt; max</em> option to see where the range is being clipped.</p>
<div class="section" id="contours-of-velocity-magnitude">
<h3>5.3.1. Contours of velocity magnitude<a class="headerlink" href="#contours-of-velocity-magnitude" title="Permalink to this headline">¶</a></h3>
<p>Now we will add an additional plot to view velocity magnitude contours</p>
<ol class="arabic simple">
<li>Go to <em>Add-&gt;Contour-&gt;v_magnitude</em>.</li>
<li>Double click on the Contour plot to bring up the Contour plot attributes window.</li>
<li>In the <em>Contour Levels</em> section, enable the <em>Maximum</em> checkbox and set the limit to <em>1</em>.</li>
<li>In the <em>Lines</em> section, set the <em>Line width</em> to <em>2</em>.</li>
</ol>
<div class="figure" id="id7">
<img alt="../_images/PotentialFlow-PcAndContour-Atts.png" src="../_images/PotentialFlow-PcAndContour-Atts.png" />
<p class="caption"><span class="caption-number">Fig. 5.24 </span><span class="caption-text">Example contour plot settings for Potential Flow velocity magnitude.</span></p>
</div>
<ol class="arabic simple" start="5">
<li>Click <em>Apply</em>.</li>
<li>Click <em>Draw</em>.</li>
<li>Drag the <em>Time</em> animation controls above the plot list on the main <em>GUI</em> window.</li>
</ol>
<p>You will see the contours of the velocity magnitude solutions for the different angles of attack.</p>
<div class="figure" id="id8">
<img alt="../_images/PotentialFlow-PcAndContour-Render.png" src="../_images/PotentialFlow-PcAndContour-Render.png" />
<p class="caption"><span class="caption-number">Fig. 5.25 </span><span class="caption-text">A contour plot of the velocity magnitude.</span></p>
</div>
<p>Delete the contour plot when you are finished exploring, but keep the pseudocolor plot.</p>
</div>
</div>
<div class="section" id="visualizing-the-velocity-vector-field">
<h2>5.4. Visualizing the velocity vector field<a class="headerlink" href="#visualizing-the-velocity-vector-field" title="Permalink to this headline">¶</a></h2>
<p>This section of the tutorial outlines using glyphs and streamlines
to visualize the velocity vector field from the simulation.</p>
<div class="section" id="plotting-the-vector-field-directly-with-glyphs">
<h3>5.4.1. Plotting the vector field directly with glyphs<a class="headerlink" href="#plotting-the-vector-field-directly-with-glyphs" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://visit.llnl.gov">VisIt</a>’s Vector plot renders a vector field at each time step as a collection
of arrow glyphs. This allows us to see the direction of the vectors as well
as their magnitude. We will create a vector plot to directly view the
simulated “v” vector field.</p>
<ol class="arabic simple">
<li>Go to <em>Add-&gt;Vector-&gt;v</em>.</li>
<li>Open the Vector plot attributes window.</li>
<li>Go to the <em>Vectors</em> tab.</li>
<li>Set <em>Stride</em> to “17”.</li>
</ol>
<div class="figure" id="id9">
<img alt="../_images/PotentialFlow-Vectors-Atts-1.png" src="../_images/PotentialFlow-Vectors-Atts-1.png" />
<p class="caption"><span class="caption-number">Fig. 5.26 </span><span class="caption-text"><em>Vectors</em> tab settings for example vector plot of velocity</span></p>
</div>
<ol class="arabic simple" start="5">
<li>Go the the <em>Data</em> tab.</li>
<li>In the <em>Limits</em> section, enable the <em>Maximum</em> checkbox and set the value to “1”.</li>
<li>In the <em>Color</em> section, change the <em>Magnitude</em> to <em>viridis</em></li>
</ol>
<div class="figure" id="id10">
<img alt="../_images/PotentialFlow-Vectors-Atts-2.png" src="../_images/PotentialFlow-Vectors-Atts-2.png" />
<p class="caption"><span class="caption-number">Fig. 5.27 </span><span class="caption-text"><em>Data</em> tab settings for example vector plot of velocity</span></p>
</div>
<ol class="arabic simple" start="8">
<li>Go to the <em>Glyphs</em> tab.</li>
<li>In the <em>Scale</em> section, uncheck <em>Scale by magnitude</em> and <em>Auto scale</em>.</li>
</ol>
<div class="figure" id="id11">
<img alt="../_images/PotentialFlow-Vectors-Atts-3.png" src="../_images/PotentialFlow-Vectors-Atts-3.png" />
<p class="caption"><span class="caption-number">Fig. 5.28 </span><span class="caption-text"><em>Glyphs</em> tab settings for example vector plot of velocity</span></p>
</div>
<ol class="arabic simple" start="10">
<li>Click <em>Apply</em> and <em>Dismiss</em>.</li>
<li>Click <em>Draw</em>.</li>
<li>Zoom in near the airfoil.</li>
<li>Drag the <em>Time</em> animation controls above the plot list on the main <em>GUI</em> window.</li>
</ol>
<div class="figure" id="id12">
<img alt="../_images/PotentialFlow-Vectors-Render.png" src="../_images/PotentialFlow-Vectors-Render.png" />
<p class="caption"><span class="caption-number">Fig. 5.29 </span><span class="caption-text">The vector plot of velocity.</span></p>
</div>
<p>You will see glyphs of velocity solutions for the different angles of attack.</p>
<p>Delete the vector plot when you are finished exploring, but keep the pseudocolor plot.</p>
</div>
<div class="section" id="examining-features-of-the-flow-field-with-streamlines">
<h3>5.4.2. Examining features of the flow field with streamlines<a class="headerlink" href="#examining-features-of-the-flow-field-with-streamlines" title="Permalink to this headline">¶</a></h3>
<p>To explore the flow field further we will seed and advect a set of streamlines
on the left side of the mesh. Streamlines show the path massless tracer
particles would take if advected by a static vector field. To construct
Streamlines, the first step is selecting a set of spatial locations that
can serve as the initial seed points.</p>
<p>The flow moves left to right, we will use a vertical line of seed points on
the left side of the mesh.</p>
<div class="section" id="plotting-streamlines-of-velocity">
<h4>5.4.2.1. Plotting streamlines of velocity<a class="headerlink" href="#plotting-streamlines-of-velocity" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li>Go to <em>Add-&gt;Pseudocolor-&gt;operators-&gt;IntergralCurve-&gt;v</em>.</li>
</ol>
<div class="figure" id="id13">
<img alt="../_images/PotentialFlow-Streamline-Menu.png" src="../_images/PotentialFlow-Streamline-Menu.png" />
<p class="caption"><span class="caption-number">Fig. 5.30 </span><span class="caption-text">Creating a streamline plot with the IntegralCurve operator.</span></p>
</div>
<ol class="arabic simple" start="2">
<li>Open the IntegralCurve operator attributes window.</li>
<li>Go to the <em>Source</em> section on the <em>Integration</em> tab.</li>
<li>Set the <em>Source type</em> to <em>Line</em>.</li>
<li>Set the <em>Start</em> to “-2 -2 0”, excluding any commas in the input text box.</li>
<li>Set the <em>Stop</em> to “-2 2 0”.</li>
<li>Set <em>Samples along line</em> to “10”.</li>
<li>Click <em>Apply</em> and <em>Dismiss</em>.</li>
<li>Click <em>Draw</em> on the Main GUI</li>
<li>In IntegralCurve operator attributes, click <em>Apply</em> again (for good measure) and then <em>Dismiss</em>.</li>
</ol>
<div class="figure" id="id14">
<img alt="../_images/PotentialFlow-Streamline-Atts.png" src="../_images/PotentialFlow-Streamline-Atts.png" />
<p class="caption"><span class="caption-number">Fig. 5.31 </span><span class="caption-text">The IntegralCurve operator attributes.</span></p>
</div>
<ol class="arabic simple" start="11">
<li>Open the Pseudocolor plot attributes window.</li>
<li>Go to the <em>Data</em> tab.</li>
<li>In the <em>Color</em> section set the <em>Color table</em> to <em>viridis</em>.</li>
</ol>
<div class="figure" id="id15">
<img alt="../_images/PotentialFlow-Streamline-PC-Atts-Data.png" src="../_images/PotentialFlow-Streamline-PC-Atts-Data.png" />
<p class="caption"><span class="caption-number">Fig. 5.32 </span><span class="caption-text">The Pseudocolor attributes for the streamline data.</span></p>
</div>
<ol class="arabic simple" start="14">
<li>Go to the <em>Line</em> section on the <em>Geometry</em> tab.</li>
<li>Set <em>Line type</em> to <em>Ribbons</em>.</li>
<li>Set <em>Tail</em> to <em>Sphere</em>.</li>
<li>Set the tail <em>Radius</em> to “0.025”.</li>
</ol>
<div class="figure" id="id16">
<img alt="../_images/PotentialFlow-Streamline-PC-Atts-Geom.png" src="../_images/PotentialFlow-Streamline-PC-Atts-Geom.png" />
<p class="caption"><span class="caption-number">Fig. 5.33 </span><span class="caption-text">The Pseudocolor attributes for the streamline geometry.</span></p>
</div>
<ol class="arabic simple" start="18">
<li>Click <em>Apply</em> and <em>Dismiss</em>.</li>
<li>Click <em>Draw</em>.</li>
<li>Use the time slider controls to view a few different angles of attack solutions.</li>
</ol>
<div class="figure" id="id17">
<img alt="../_images/PotentialFlow-Streamline-Render-AOT-0.png" src="../_images/PotentialFlow-Streamline-Render-AOT-0.png" />
<p class="caption"><span class="caption-number">Fig. 5.34 </span><span class="caption-text">The streamlines of velocity at 0 degree angle of attack.</span></p>
</div>
<div class="figure" id="id18">
<img alt="../_images/PotentialFlow-Streamline-Render-AOT-20.png" src="../_images/PotentialFlow-Streamline-Render-AOT-20.png" />
<p class="caption"><span class="caption-number">Fig. 5.35 </span><span class="caption-text">The streamlines of velocity at 20.5 degree angle of attack.</span></p>
</div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../dev_manual/index.html" class="btn btn-neutral float-right" title="VisIt Developer Manual" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Aneurysm.html" class="btn btn-neutral" title="4. Aneurysm" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2008-2019, LLNL, UCRL-SM-220449.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'2.11',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>