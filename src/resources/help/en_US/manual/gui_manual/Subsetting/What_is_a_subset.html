

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>7.1. What is a subset? &mdash; VisIt User Manual 2.11 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="VisIt User Manual 2.11 documentation" href="../../index.html"/>
        <link rel="up" title="7. Subsetting" href="index.html"/>
        <link rel="next" title="7.2. Subset Inclusion Lattice" href="Subset_Inclusion_Lattice.html"/>
        <link rel="prev" title="7. Subsetting" href="index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> VisIt User Manual
          

          
          </a>

          
            
            
              <div class="version">
                local build
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">GUI Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Intro/index.html">1. Introduction to VisIt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../WorkingWithFiles/index.html">2. Working with Databases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Plots/index.html">3. Plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Operators/index.html">4. Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SavingPrinting/index.html">5. Saving and Printing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../VisualizationWindows/index.html">6. Visualization Windows</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">7. Subsetting</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">7.1. What is a subset?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#domain-subsets">7.1.1. Domain Subsets</a></li>
<li class="toctree-l4"><a class="reference internal" href="#group-or-block-subsets">7.1.2. Group or Block Subsets</a></li>
<li class="toctree-l4"><a class="reference internal" href="#material-subsets">7.1.3. Material Subsets</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#mesh-variables-with-material-specific-properties">7.1.3.1. Mesh Variables with Material Specific Properties</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#species-subsets">7.1.4. Species Subsets</a></li>
<li class="toctree-l4"><a class="reference internal" href="#domains-groups-materials-and-species-in-combination">7.1.5. Domains, Groups, Materials and Species In Combination</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enumerated-subsets">7.1.6. Enumerated Subsets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Subset_Inclusion_Lattice.html">7.2. Subset Inclusion Lattice</a></li>
<li class="toctree-l3"><a class="reference internal" href="Using_the_Subset_Window.html">7.3. Using the Subset Window</a></li>
<li class="toctree-l3"><a class="reference internal" href="Material_Interface_Reconstruction.html">7.4. Material Interface Reconstruction</a></li>
<li class="toctree-l3"><a class="reference internal" href="Species.html">7.5. Species</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Quantitative/index.html">8. Quantitative Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../MakingItPretty/index.html">9. Making it pretty</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Animation/index.html">10. Animation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../InteractiveTools/index.html">11. Interactive Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../MultipleDatabaseAndWindows/index.html">12. Multiple Databases and Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ClientServer/index.html">13. Client Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ComputeEngines/index.html">14. Compute Engines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Preferences/index.html">15. Preferences</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Help/index.html">16. Help</a></li>
<li class="toctree-l2"><a class="reference internal" href="../StartupOptions/index.html">17. Startup Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Building/index.html">18. Building</a></li>
<li class="toctree-l2"><a class="reference internal" href="../BuildingOnWindows/index.html">19. Building on Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Acknowledgments/index.html">20. Acknowledgments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../glossary.html">21. Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Contributing/index.html">22. Contributing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../cli_manual/index.html">CLI Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev_manual/index.html">Developer Manual</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">VisIt User Manual</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          













<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">VisIt GUI User Manual</a> &raquo;</li>
        
          <li><a href="index.html">7. Subsetting</a> &raquo;</li>
        
      <li>7.1. What is a subset?</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/gui_manual/Subsetting/What_is_a_subset.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="what-is-a-subset">
<span id="id1"></span><h1>7.1. What is a subset?<a class="headerlink" href="#what-is-a-subset" title="Permalink to this headline">¶</a></h1>
<p>VisIt has first-class support for four different kinds of subsets; <em>Domains</em>,
<em>Groups</em> (also called <em>Blocks</em>), <em>Materials</em> and material <em>Species</em>.
In particular, as currently designed, any given mesh in VisIt can have only
<strong>one</strong> decomposition into each of these kinds of subsets. That is, a mesh can
have only one <em>Domain</em> decomposition, one <em>Group</em> decomposition, one
<em>Material</em> decomposition and one material <em>Species</em> decomposition.
A fifth kind of subset, <em>Enumerated</em>, is also supported and provides some
additional generality but cannot be used in combination with the other four
or even with other <em>Enumerated</em> subsets.</p>
<p>Data producers as well as the database plugins that read data into VisIt
often have flexibility in deciding how to utilize these various kinds
of subsets in representing their data. We describe each of these kinds of
subsets and constraints in their use below.</p>
<div class="section" id="domain-subsets">
<h2>7.1.1. Domain Subsets<a class="headerlink" href="#domain-subsets" title="Permalink to this headline">¶</a></h2>
<p>VisIt’s concept of a <em>Domain</em> subset is fundamental to its
parallel programming and execution model. A domain in VisIt represents a
<em>chunk</em> of mesh plus its variables that is <strong>both</strong> stored (in files and in
memory) <strong>and</strong> processed <em>coherently</em> as a single, self-contained unit.
Large meshes in VisIt are typically decomposed into <em>Domain</em> subsets for
parallel processing. In fact, except in rare cases, the maximum number of
MPI tasks VisIt may use is determined by the number of <em>Domain</em> subsets
created by the data producer. VisIt’s approach to processing a mesh in
parallel is often described as <em>piggy-backing</em> off of the parallel decomposition
created by the data producer.</p>
<p><em>Domain</em> subsets also represent the <em>unit of work</em> VisIt allocates in its load
balancing algorithms. If VisIt is running on <em>M</em> processors and reading a
mesh of <em>N</em> domains, then if N&lt;M, N-M processors will idle for operations
involving that mesh. On the other hand, if N&gt;kM (k an integer), some processors
will be assigned <em>k</em> domains and some <em>k+1</em> domains.</p>
<p>In almost all cases, if a mesh is to be processed in parallel by VisIt, it must
have been decomposed into <em>Domain</em> subsets by the data producer prior to reading
the data into VisIt. In general, VisIt does not perform any on-the-fly domain
decomposition of data it is reading. However, there is one, special case
where VisIt can perform on-the-fly domain decomposition of a large, monolithic
mesh; a structured mesh stored in a file format that supports hyper-slabbed I/O.
In this simple case, VisIt will try to evenly decompose the 2 or 3D mesh into
roughly equal sized hyper-slabs whose number is determined by the number of
parallel tasks. VisIt will also then utilize the file format’s hyper-slab I/O
routines to read into each parallel task only the part(s) of the mesh assigned
to that task.</p>
<p>A mesh is <strong>required</strong> to have domains if it is ever to be processed in parallel
by VisIt.</p>
</div>
<div class="section" id="group-or-block-subsets">
<h2>7.1.2. Group or Block Subsets<a class="headerlink" href="#group-or-block-subsets" title="Permalink to this headline">¶</a></h2>
<p><em>Groups</em> (or <em>Blocks</em>) are just unions of <em>Domains</em>. They are optional. A mesh
is not <strong>required</strong> to have groups. On the other hand, if a mesh has <em>Groups</em>,
then <strong>every</strong> domain in the mesh must be assigned to one and only one <em>Group</em>
subset. <em>Groups</em> may be used to represent, for example, the files in which
multiple domains are stored or sets of neighboring domains that share a common
logical/structured indexing arrangement in an otherwise globally unstructured
mesh.</p>
<p>The key constraint about group subsets is that they can represent only unions
of the <em>domain</em> subsets. Internally in VisIt, a group subset is implemented as
a list of domain subset ids.</p>
</div>
<div class="section" id="material-subsets">
<h2>7.1.3. Material Subsets<a class="headerlink" href="#material-subsets" title="Permalink to this headline">¶</a></h2>
<p>Material subsets are used to represent the decomposition of a mesh into various
materials. For example, a mesh may be composed of steel, brass, and aluminum
materials. If these materials are given integer ids 83 (<code class="docutils literal notranslate"><span class="pre">int('S')</span></code>), 66
(<code class="docutils literal notranslate"><span class="pre">int('B')</span></code>) and 65 (<code class="docutils literal notranslate"><span class="pre">int('A')</span></code>), then each zone (or cell) in the mesh can
be assigned a value of 83, 66 or 65 to indicate the zone is composed of steel,
brass or aluminum. This would be equivalent to an integer valued (with 3 unique
values), zone-centered variable on the mesh.</p>
<p>For material subsets, however, VisIt also supports a notion of
<em>mixing</em> where a single zone (or cell) can be composed of multiple materials
each occupying some fractional volume of a whole zone (or cell). From a
sub-setting perspective, a more formal way of thinking about <em>mixing</em>
is that it is way of supporting <em>partial inclusion</em> of a mesh zone (or cell)
within a given material subset.</p>
<p>Material subsets are optional. Furthermore, if material subsets are defined
additionally supporting <em>mixing</em> is also optional. Only some data producers that
involve <em>Material</em> subsets also involve <em>mixing</em>.</p>
<p>When <em>mixing materials</em> are involved, VisIt can employ a variety of
sophisticated
<a class="reference internal" href="Material_Interface_Reconstruction.html#material-interface-reconstruction"><span class="std std-ref">Material Interface Reconstruction (MIR)</span></a>
algorithms to draw the interfaces between materials based on the volume
fractions of the <em>mixing</em>. The main point about <em>MIR</em> is that it represents
an additional computational burden when manipulating <em>Material</em> subsets.
Manipulating <em>Group</em> or <em>Domain</em> subsets has no such equivalent computational
cost.</p>
<div class="section" id="mesh-variables-with-material-specific-properties">
<h3>7.1.3.1. Mesh Variables with Material Specific Properties<a class="headerlink" href="#mesh-variables-with-material-specific-properties" title="Permalink to this headline">¶</a></h3>
<p>For some mesh variables, data producers may have different values of the
variable for each of the materials within various zones (or cells) of the mesh
where <em>mixing</em> is occurring. When such a variable is being plotted, for example
with the <a class="reference internal" href="../Plots/PlotTypes/PseudocolorPlot.html#pseudocolor-plot-head"><span class="std std-ref">Pseudocolor Plot</span></a>, what value/color
should VisIt show for such zones? The fact is, depending on the user’s needs,
VisIt is capable of showing either an <em>overall</em> value for the zone or showing
the material-specific values in the zone. This can be handled through
appropriate use of VisIt’s <a class="reference internal" href="Material_Interface_Reconstruction.html#material-interface-reconstruction"><span class="std std-ref">(MIR)</span></a>
algorithms and <strong>Subset Window</strong> controls.</p>
</div>
</div>
<div class="section" id="species-subsets">
<h2>7.1.4. Species Subsets<a class="headerlink" href="#species-subsets" title="Permalink to this headline">¶</a></h2>
<p>In addition to <em>mixing</em>, another feature <em>Materials</em> subsets support is a
notion of <em>Species</em>. For example, there are many different varieties of
brass and steel depending on the alloys used. Neither brass nor steel are
themselves pure elements on the periodic table. They are instead <em>alloys</em> of
other pure metals. Common Yellow Brass is, nominally, a mixture
of Copper (Cu) and Zinc (Zn) while Tool Steel is composed primarily of Iron (Fe)
but mixed with some Carbon (C) and a variety of other elements.</p>
<p>Lets suppose we are dealing with the following alloys and species
compositions…</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Material</th>
<th class="head">Species composition</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Brass</td>
<td>Cu:65%, Zn:35%</td>
</tr>
<tr class="row-odd"><td>T-1 Steel</td>
<td>Fe:76.3%, W:18%,  Cr:4.0%, C:0.7%, V:1%</td>
</tr>
<tr class="row-even"><td>O-1 Steel</td>
<td>Fe:96.2%, W:0.5%, Cr:0.5%, C:0.9%, Mn:1.4%, Ni:0.5%</td>
</tr>
</tbody>
</table>
<p>The <em>Materials</em> decomposition would consist of 3 subsets for Brass, T-1 Steel
and O-1 Steel. For the <em>Species</em> decomposition, Brass would be further
decomposed into 2 <em>Species</em> subsets, T-1 Steel into 5 <em>Species</em> subsets and
O-1 Steel, 6 <em>Species</em> subsets.</p>
<p>Alternatively, one could opt to characterize both T-1 Steel
and O-1 Steel has a single, non-specific <em>Steel</em> having
7 <em>Species</em> subsets, Fe, W, Cr, C, V, Mn, Ni where for T-1 Steel, the Mn and Ni
<em>Species</em> subsets are always empty and for O-1 Steel the V <em>Species</em> subset
is always empty. In that case, there would only be 2 <em>Materials</em> subsets
for Brass and non-specific <em>Steel</em>.</p>
<p><em>Species</em> subsets are optional. A mesh does not need to have them defined.
However, as currently designed, a data producer cannot define <em>Species</em>
subsets without also defining <em>Materials</em> subsets (even if there is only one
material subset for the whole mesh).</p>
<p>A final thing to note about <em>Species</em> subsets is that they do not represent
spatially distinct parts of the mesh like <em>Domains</em>, <em>Groups</em>, or <em>Materials</em>.
Instead, <em>Species</em>, if they are defined are ever present, everywhere in the
mesh. Only their relative concentrations vary at any given point in the mesh.
But, <em>Species</em> do permit subsetting a particular physical quantity’s <em>value</em>
in that, for example the <em>total pressure</em> in a zone can be decomposed into
partial pressures on each of the species comprising the materials in the zone.
Furthermore, using the <strong>Subset Window</strong>, VisIt can then control which partial
value(s) are used in a particular plot.</p>
</div>
<div class="section" id="domains-groups-materials-and-species-in-combination">
<h2>7.1.5. Domains, Groups, Materials and Species In Combination<a class="headerlink" href="#domains-groups-materials-and-species-in-combination" title="Permalink to this headline">¶</a></h2>
<p>A given mesh may involve any combination of <em>Domain</em>, <em>Group</em> and <em>Material</em>
subsets. Furthermore, VisIt’s <strong>Subset Window</strong>  makes it possible to manipulate
these four kinds of subset <em>in combination</em>. That is, a user can simultaneously
control which domains, which materials and which groups VisIt should process in
any given operation. However, manipulating subsets in combination works only
for these kinds of subsets. Other kinds of sub-setting, such as Enumerated
subsets which are discussed next, are not as well integrated.</p>
</div>
<div class="section" id="enumerated-subsets">
<h2>7.1.6. Enumerated Subsets<a class="headerlink" href="#enumerated-subsets" title="Permalink to this headline">¶</a></h2>
<p>A key constraint of the other kinds of subsets is that any given mesh can have
only <strong>one</strong> decomposition into domains and <strong>one</strong> decomposition into groups
and <strong>one</strong> decomposition into materials. However, a mesh can be composed of
any number of <em>Enumerated</em> subsets. Enumerated subsets are defined by first
defining the enumeration <em>class</em> and then creating a <em>bitmap</em> like variable
over the mesh to indicate which mesh entities (nodes, edges, faces or volumes)
belong to which subsets of the enumeration class.</p>
<p>Within an enumeration class, the sets can be arranged hierarchically so that
some sets contain other sets as in a part assembly.</p>
<p>Enumerated subsets do not work in
combination with domains, groups or materials or in combination with other
classes of <em>Enumerated</em> subsets. On the other hand, for any given mesh, there
can be any number of enumeration classes, each defining a collection of related
subsets. For example, if a mesh has defined two enumeration classes, one for
<em>node sets</em> and one for <em>face sets</em>, then different subsets of nodes can be
manipulated simultaneously or different subsets of faces can be manipulated
simultaneously but different sets of nodes cannot simultaneously be manipulated
in combination with different sets of faces. Finally, manipulating enumerated
subsets can also incur small a computational burden due to the work involved in
finding the mesh entities within a given subset.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Subset_Inclusion_Lattice.html" class="btn btn-neutral float-right" title="7.2. Subset Inclusion Lattice" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="7. Subsetting" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2008-2019, LLNL, UCRL-SM-220449.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'2.11',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/language_data.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>